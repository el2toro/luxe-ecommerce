<app-header></app-header>

    <main class="ar-page">
      <div #arContainer class="ar-container"></div>

      <!-- Floating UI -->
      <div class="ar-ui">
        <div class="top-controls">
          <button (click)="close()" class="close-btn">×</button>
          <button (click)="toggleCamera()" class="flip-btn">↺</button>
        </div>

        <div class="product-selector">
          <button 
            *ngFor="let p of products" 
            [class.active]="selectedProduct() === p.id"
            (click)="selectedProduct.set(p.id)"
            class="product-thumb">
            <img [src]="p.thumb" [alt]="p.name">
          </button>
        </div>

        <div class="instructions" *ngIf="!detected()">
          <p>Point your camera at a face</p>
          <div class="pulse"></div>
        </div>

        <button class="capture-btn" (click)="capture()" *ngIf="detected()">
          <mat-icon>camera</mat-icon> Capture Look
        </button>
      </div>
    </main>

    <app-bottom-nav></app-bottom-nav>